.overlay-loader (
  @background: @primary-focus,
  @state: ui-dirty,
  @duration: 0.5s
) {
  .user-select;
  position: relative;
  z-index: 0;

  &:after {
    content: '';
    opacity: 0;
    background-color: @background;

    .absolute(0, 0);
    .fullsize;
    .transition(~'@{duration} linear transform, 0.1s linear opacity');
    .radius(@input-radius);
  }

  & ~ .loader {
    opacity: 0;
  }

  &.@{state} {
    z-index: 10;

    &:after {
      cursor: default;
      opacity: 1;
      .radius(100%);
      .transform(scale(10, 30) rotate(5deg));
    }

    & ~ .loader {
      opacity: 1;
    }
  }
}

.ui-overlay-loader {
  .overlay-loader();
}