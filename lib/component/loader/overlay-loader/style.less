.overlay-loader (
  @background: @primary-focus,
  @state: ui-dirty,
  @duration: 0.3s
) {
  .user-select;
  position: relative;
  z-index: 0;

  &:after {
    content: '';
    opacity: 0;
    background-color: @background;

    .absolute(0, 0);
    .fullsize;
    .transition(@duration linear transform);
    .radius(@input-radius);
  }

  &.ui-scheme-facebook {
    &:after {
      background-color: darken(@facebook, 10%);
    }
  }

  &.ui-scheme-primary {
    &:after {
      background-color: @primary;
    }
  }

  &.ui-scheme-secondary {
    &:after {
      background-color: @secondary;
    }
  }

  &.ui-scheme-tertiary {
    &:after {
      background-color: darken(@orange, 5%);
    }
  }

  & ~ .loader {
    opacity: 0;
  }

  &.@{state} {
    z-index: 10;

    &:after {
      cursor: default;
      opacity: 1;
      .radius(100%);
      .transform(scale(3, 30) rotate(5deg));
    }

    & ~ .loader {
      opacity: 1;
    }
  }
}

.ui-overlay-loader {
  .overlay-loader();
}